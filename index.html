<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø§Ø³ØªØ¨ÙŠØ§Ù† Ø§Ø¯Ù…Ø§Ù† Ø§Ù„Ù‡ÙˆØ§ØªÙ ÙˆØ¬ÙˆØ¯Ø© Ø§Ù„Ù†ÙˆÙ…</title>
<style>
body {
    font-family: "Tahoma", sans-serif;
    background: linear-gradient(135deg, #8e9eab, #eef2f3);
    text-align: center;
    direction: rtl;
    margin: 0;
    padding: 20px;
}
.container {
    background: #fff;
    padding: 20px;
    border-radius: 10px;
    max-width: 800px;
    margin: auto;
    box-shadow: 0 0 10px rgba(0,0,0,0.2);
}
h2 {
    color: #00416A;
}
.question {
    margin: 15px 0;
    font-size: 18px;
    font-weight: bold;
}
.options label {
    margin: 0 7px;
    padding: 6px 10px;
    display: inline-block;
    background: #dce3e8;
    border-radius: 6px;
    cursor: pointer;
}
button {
    padding: 10px 20px;
    background: #005C97;
    color: #fff;
    border: none;
    border-radius: 6px;
    margin-top: 15px;
    cursor: pointer;
}
button:hover {
    background: #003e65;
}
#result {
    font-size: 20px;
    font-weight: bold;
    margin-top: 15px;
    color: #b30000;
}
.footer {
    margin-top: 20px;
}
a {
    color: #007bff;
    font-weight: bold;
}
</style>
</head>
<body>

<div class="container">
<h2>ğŸ“± Ù…Ù‚ÙŠØ§Ø³ Ø¥Ø¯Ù…Ø§Ù† Ø§Ù„Ù‡ÙˆØ§ØªÙ Ø§Ù„Ø°ÙƒÙŠØ©</h2>

<form id="surveyForm">
<div class="question">1. Ø£Ù‚Ø¶ÙŠ ÙˆÙ‚ØªÙ‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ Ø£ÙƒØ«Ø± Ù…Ù…Ø§ Ø£Ù†ÙˆÙŠ.</div>
<div class="options">
<label><input type="radio" name="q1" value="1"> Ø§Ø¨Ø¯Ø§Ù‹</label>
<label><input type="radio" name="q1" value="2"> Ù‚Ù„ÙŠÙ„Ø§Ù‹</label>
<label><input type="radio" name="q1" value="3"> Ø£Ø­ÙŠØ§Ù†Ø§Ù‹</label>
<label><input type="radio" name="q1" value="4"> ØºØ§Ù„Ø¨Ø§Ù‹</label>
<label><input type="radio" name="q1" value="5"> Ø¯Ø§Ø¦Ù…Ø§Ù‹</label>
</div>

<h2>ğŸ˜´ Ù…Ù‚ÙŠØ§Ø³ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù†ÙˆÙ… (PSQI)</h2>

<div class="question">2. Ø£Ø´Ø¹Ø± Ø¨ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø§Ù„Ù†ÙˆÙ… Ø£Ùˆ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø¨Ø§Ù„Ù†ÙˆÙ….</div>
<div class="options">
<label><input type="radio" name="p1" value="1"> Ø§Ø¨Ø¯Ø§Ù‹</label>
<label><input type="radio" name="p1" value="2"> Ù‚Ù„ÙŠÙ„Ø§Ù‹</label>
<label><input type="radio" name="p1" value="3"> Ø£Ø­ÙŠØ§Ù†Ø§Ù‹</label>
<label><input type="radio" name="p1" value="4"> ØºØ§Ù„Ø¨Ø§Ù‹</label>
<label><input type="radio" name="p1" value="5"> Ø¯Ø§Ø¦Ù…Ø§Ù‹</label>
</div>

<button type="button" onclick="calculate()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
</form>

<div id="result"></div>

<div class="footer">
ğŸ”” Ø§Ø´ØªØ±Ùƒ Ù„ØªØµÙ„Ùƒ Ø£Ø¯ÙˆØ§Øª Ø¨Ø­Ø« Ø¬Ø¯ÙŠØ¯Ø©:  
<a target="_blank" href="https://script.google.com/macros/s/AKfycbxYTCcpvnUqWLlQ1_XlebFmWYuaEvcPwdc8TElffM-pIknh3mYEprraa957hNrysEkCLA/exec">Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù„Ø§Ø´ØªØ±Ø§Ùƒ</a>
</div>

</div>

<script>
// ğŸ”— Ø¶Ø¹ Ø±Ø§Ø¨Ø· Web App Ù‡Ù†Ø§ â†“â†“â†“
const WEB_APP_URL = "Ø¶Ø¹ Ù‡Ù†Ø§ Ø±Ø§Ø¨Ø· Ø§Ù„ÙˆÙŠØ¨ Ø¢Ø¨ Ù…Ù† Google Script";

function calculate() {
    const q1 = parseInt(document.querySelector('input[name="q1"]:checked')?.value || 0);
    const p1 = parseInt(document.querySelector('input[name="p1"]:checked')?.value || 0);

    if(q1 === 0 || p1 === 0) {
        alert("ğŸš« ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©");
        return;
    }

    let phoneText = (q1 >= 4) ? "âš ï¸ Ù„Ø¯ÙŠÙƒ Ø§Ø­ØªÙ…Ø§Ù„ Ø¥Ø¯Ù…Ø§Ù† Ø¹Ù„Ù‰ Ø§Ù„Ù‡Ø§ØªÙ" : "ğŸ‘ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø·Ø¨ÙŠØ¹ÙŠ Ù„Ù„Ù‡Ø§ØªÙ";
    let sleepText = (p1 >= 4) ? "ğŸ˜Ÿ Ù„Ø¯ÙŠÙƒ Ø¶Ø¹Ù ÙÙŠ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù†ÙˆÙ…" : "ğŸ˜´ Ù†ÙˆÙ…Ùƒ Ø·Ø¨ÙŠØ¹ÙŠ";

    document.getElementById("result").innerHTML = phoneText + "<br>" + sleepText;

    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø¥Ù„Ù‰ Google Sheets
    fetch(WEB_APP_URL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
            phone_addiction: q1,
            sleep_quality: p1,
            result: phoneText + " - " + sleepText
        })
    })
    .then(res => res.text())
    .then(res => console.log("ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:", res))
    .catch(err => alert("âš ï¸ Ù„Ù… ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø¯ Ø¥Ù„Ù‰ Google Sheet"));
}
</script>

</body>
</html>
